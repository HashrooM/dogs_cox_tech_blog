# 【入門】Googleデータポータルを用いたデータ分析

この記事では [Googleデータポータル](https://marketingplatform.google.com/intl/ja/about/data-studio/ "googleDataPortal") を用いて
簡単にデータ分析を行う方法を解説します。


## Googleデータポータルにデータを取り込む手順
1. Googleアカウントを持っていない場合は作成しておく。
1. [Googleデータポータル](https://marketingplatform.google.com/intl/ja/about/data-studio/ "googleDataPortal") ページを開き、右上の "データポータルにログイン" ボタンをクリック。
1. "Google データポータルへようこそ" という画面が出てくるので、 "使ってみる" をクリック。
1. 国名と使用許諾へのチェックを入れる画面が開く。国を選択し、使用許諾へチェックを入れる。
    1. 日本がしたーーの方にある。
1. おすすめ情報などのメールを受け取るか選択する画面になる。欲しい情報がある場合はお好みの情報の "はい" にチェックを入れる。
1. Googleデータポータルの画面が開く(dataportal_home.png)
1. 左上の "作成" ボタン → "データソース" をクリック
1. たくさんのデータ取り込みのための接続先が表示される(data_sorces_all.png)。ここから必要な接続先を選びデータをデータポータルに取り込む。実際は画像より下にたくさんの3rd partyの接続先が表示されている。
1. 今回は自分のアカウントのGoogleドライブに置いたcsvデータを取り込んで分析してみる。
1. Google AnalyticsやBig Queryが気になる。巨大なファイルはBig Queryに取り込んでおけばGoogleデータポータルで好きに分析できるようになりそう。また、このブログのアクセスが伸びてきたらGoogle Analyticsでサイト分析してみても面白そう。


## Googleドライブ上のGoogleスプレッドシート内のデータをGoogleデータポータルに取り込む手順
1. Googleドライブ上に分析対象のファイル (csv, tsv, エクセルファイル) をアップロードする。
    1. 今回は [penguinsデータセット](https://github.com/mwaskom/seaborn-data/blob/master/penguins.csv "penguins") を題材として分析してみる。このデータを使う場合はリンク先の "Raw" ボタンを右クリック → "リンク先を名前を付けて保存" して適当な所にダウンロードする。(今回は `penguins.csv` という名前で保存した。)そのあと、Googleドライブ上の任意のフォルダにアップする。
1. Googleドライブ上で分析対象のファイルを右クリック → "アプリで開く" → "Googleスプレッドシート" を選択して、スプレッドシート上でファイルを開く。自動でスプレッドシートが保存される。
1. 上の手順に従ってGoogleデータポータルのデータソース選択画面を開く。その中から "Googleスプレッドシート" を選択する。(dataportal_sorces_all.pngを編集)
1. Googleドライブへのアクセスの許可を求められたら許可する。画面上で先ほど作ったスプレッドシートが選択できるようになっているはず。(dataportal_sorce_spreadsheet.png)
1. スプレッドシートを選択すると、ワークシート選択ができるようになり、ワークシートを選択すると右上の接続ボタンがクリックできるようになるので、クリックする。(dataportal_sorce_spreadsheet_connect.png)
    1. 今回のスプレッドシートはcsvから作成したので、ワークシートは1つしかないはず。複数ワークシートがある場合は選択の必要がある。
1. データに接続すると、諸々の設定を行う画面に移る。(dataportal_settings.pngを編集) 今回はオープンデータかつただのスプレッドシートなので何も設定しなくても良いが、以下設定ポイントを挙げる。ちなみにここで設定しなくともあとで同じ画面を開いて設定することができる。
    1. "データの更新間隔" : データの取得先からどれくらいの時間間隔でデータを取得するかを設定する。取得先が有料サービスの場合（BIG Queryなど）はデータを取得する度に料金がかかる可能性があるので、注意する。
    1. "コミュニティにおける視覚化へのアクセス" : [コミュニティ ビジュアライゼーション](https://support.google.com/datastudio/answer/9206527?hl=ja "community_visualozation") 機能を使用するか否かを設定する。この機能はβ版。第三者が作成した可視化用の設定やアプリを使えるようにするかどうか。使用する場合は認定されたディベロッパーのビジュアライゼーションのみを使うのが無難。
    1. "レポートのフィールド編集" : 元になっているデータの定義（整数か、文字列かなど）をグラフごとなどで変更できるようにするか。特に問題がない場合は柔軟な集計や可視化ができるのでオンにしておいた方が良いと思われる。
    1. 真ん中の画面でデータの定義やデフォルトの集計方法を変更できる。IDなど、整数だけど文字列として扱いたいなどの場合があれば変更する。
1. これでレポートを作成する準備が整った。右上の "レポートを作成" をクリックすれば様々な可視化を駆使したレポートを作成できる。 "探索" をクリックすれば様々な観点からデータを分析できる。まずは "探索" をクリックして色々な角度からデータを分析してみる。

## penguinsデータセットについて
TODO: 後で書く。

## penguinsデータセットの探索的データ分析 (EDA)
